# 데이터 파이프라인

이 문서는 Financial Agentic Assistant 프로젝트의 데이터 수집 및 관리 파이프라인을 설명합니다. 이 시스템의 목표는 애플리케이션에 필요한 데이터를 수집, 처리, 업데이트하는 강력하고 자동화된 시스템을 구축하는 것입니다.

---

## 1. DART 기업 고유번호

### 1.1. 개요

이 파이프라인은 금융감독원 DART(전자공시시스템)에 등록된 모든 회사의 고유번호 목록을 최신 상태로 유지하는 역할을 담당합니다. 기업 고유번호는 DART에서 다른 모든 기업 공시 정보를 조회하는 데 사용되는 핵심 식별자입니다.

*   **데이터 소스**: [DART API (corpCode.xml)](https://opendart.fss.or.kr/guide/detail.do?apiGrpCd=DS001&apiId=2019018)
*   **스크립트**: `get_corp_code.py`
*   **결과물**: `DART/corp_code.csv`

### 1.2. 파이프라인 아키텍처 및 철학

기업 고유번호를 수집하는 과정은 단순히 일회성으로 파이썬 스크립트를 실행하는 것이 아니라, 완전 자동화된 데이터 파이프라인의 첫 단계입니다.

**자동화된 실행**
수집 스크립트(`get_corp_code.py`)는 정해진 주기마다 자동으로 실행되도록 설계되었습니다. 정확한 스케줄링 방식은 아직 미정이지만, **cron**이나 **GitHub Actions 워크플로우**와 같은 표준 도구를 사용하여 구현될 예정입니다.

**지능적인 동기화**
이 파이프라인은 매번 전체 데이터를 다시 내려받는 대신, 변경 사항만 지능적으로 감지하여 효율적으로 동작합니다.
*   **신규 회사**: 새로 상장되거나 등록된 회사를 감지하여 추가합니다.
*   **정보 변경**: 회사명이나 종목 코드 등의 변경 사항을 감지하여 업데이트합니다.
*   **상장 폐지 등**: 더 이상 목록에 없는 회사를 감지하여 삭제 또는 비활성 처리합니다.

**다운스트림 통합 (온톨로지 접근 방식)**
이 기업 고유번호 데이터셋은 프로젝트 내 모든 기업 관련 데이터의 기준이 되는 핵심 **"온톨로지(Ontology)"** 역할을 합니다. 이 핵심 데이터가 항상 최신 상태로 유지됨으로써, RAG 인덱싱, 데이터 분석, Agentic 액션 등 모든 다운스트림 프로세스는 별도의 수동 개입 없이 가장 정확한 최신 정보 위에서 동작하게 됩니다.

이는 **Palantir Foundry**와 같은 플랫폼에서 중앙 온톨로지를 관리하는 방식과 유사합니다. 핵심 데이터 자산의 변경 사항이 시스템 전체에 자동으로 전파되어 일관성과 신뢰성을 보장합니다. 이를 통해 단발적인 스크립트의 모음이 아닌, 진정한 의미의 데이터 파이프라인을 구축합니다.